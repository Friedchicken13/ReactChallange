(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{10:function(e){e.exports=JSON.parse('[{"id":1,"name":"Brown Shoes","description":"A brown shirt made from fine cotton.","price":{"base":"USD","amount":50},"relatedProducts":[2]},{"id":2,"name":"Green Pants","description":"A super slick pair of green pants, hand crafted by artisan clothmakers in the Amazon.","price":{"base":"USD","amount":30},"relatedProducts":[1,4]},{"id":3,"name":"Green Pants","description":"A super slick pair of green pants, hand crafted by artisan clothmakers in the Amazon.","price":{"base":"USD","amount":25},"relatedProducts":[1,4]},{"id":4,"name":"White Shirt","description":"A pristine white shirt, sure to look great with any outfit.","price":{"base":"USD","amount":20},"relatedProducts":[3,5]},{"id":5,"name":"Blue Shirt","description":"You haven\'t seen a blue shirt like this before.","price":{"base":"CNY","amount":300},"relatedProducts":[4,1]}]')},22:function(e){e.exports=JSON.parse('[{"base":"AUD","rates":{"USD":0.72,"CNY":4.87}},{"base":"USD","rates":{"AUD":1.39,"CNY":6.77}},{"base":"CNY","rates":{"AUD":0.21,"USD":0.15}}]')},23:function(e,t,r){e.exports=r(64)},28:function(e,t,r){},29:function(e,t,r){},64:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),i=r(20),s=r.n(i),o=(r(28),r(2)),c=r(3),l=r(6),u=r(5),p=(r(29),r(4)),d=function(e){var t=e.filterText,r=e.products?e.products.filter((function(e){return-1!==e.name.indexOf(t)})):e.products,n=e.detailisvisibile;return a.a.createElement(a.a.Fragment,null,a.a.createElement("table",null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Price"),a.a.createElement("th",null))),a.a.createElement("tbody",null,r.map((function(t){return a.a.createElement("tr",{key:t.id},a.a.createElement("td",null,t.name),a.a.createElement("td",null,t.price.amount+" "+t.price.base),a.a.createElement("td",null,n?"":a.a.createElement("button",{className:"btn btn-warning btn-sm",onClick:function(){return e.onProductSelection(t,e.buttonText)}},e.buttonText)))})))))},m=function(e){return e.availableCurrency.map((function(t){return a.a.createElement("button",{className:e.baseCurrency===t?" btn btn-outline-dark btn-sm m-2 active":"btn btn-outline-dark btn-sm m-2",key:t,onClick:function(){return e.onChange(t)}},t)}))},h=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).handleFilterTextChange=n.handleFilterTextChange.bind(Object(p.a)(n)),n}return Object(c.a)(r,[{key:"handleFilterTextChange",value:function(e){this.props.onFilterTextChange(e.target.value)}},{key:"render",value:function(){var e=this.props.filterText;return a.a.createElement("form",null,a.a.createElement("input",{type:"text",placeholder:"Search...",value:e,onChange:this.handleFilterTextChange}))}}]),r}(n.Component),b=function(e){var t=e.product;return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{className:"font-weight-bold "},"Product details"),a.a.createElement("table",null,a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",null,"Id"),a.a.createElement("td",null,t.id)),a.a.createElement("tr",null,a.a.createElement("td",null,"Description"),a.a.createElement("td",null,t.description)))),a.a.createElement("label",{className:"font-weight-bold "},"Related products"))},f=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).handleProductSelection=function(e,t){"Details"===t?n.setState({detailisvisibile:!0,buttonText:"Close",selectedProduct:e,allproducts:n.state.allproducts.filter((function(t){return t.id===e.id})),relatedProductList:n.state.relatedProductList.filter((function(t){return-1!==e.relatedProducts.indexOf(t.id)}))}):n.setState({buttonText:"Details",allproducts:n.props.products,relatedProductList:n.props.products,detailisvisibile:!1})},n.calculateNewPriceBySelectedCurrency=function(e,t){var r=n.state.referenceProduct.filter((function(t){return t.id===e.id}))[0];if(r.price.base!==t){var a=n.state.xchangelist.filter((function(e){return e.base===r.price.base}))[0].rates[t];e.price.amount=r.price.amount*a}else e.price.amount=r.price.amount;return parseFloat(e.price.amount).toFixed(2)},n.handleCurrencyChange=function(e){var t=n.props.products.filter((function(t){return(t.price.amount=n.calculateNewPriceBySelectedCurrency(t,e))&&(t.price.base=e)}));n.setState({baseCurrency:e,products:t})},n.state={filterText:"",selectedProduct:"",buttonText:"Details",allproducts:n.props.products,relatedProductList:n.props.products,detailisvisibile:!1,mycurrencyList:n.props.exchangerates.map((function(e){return e.base})),xchangelist:n.props.exchangerates,baseCurrency:"AUD",referenceProduct:n.props.referenceproducts},n.handleFilterTextChange=n.handleFilterTextChange.bind(Object(p.a)(n)),n}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.handleCurrencyChange("AUD")}},{key:"handleFilterTextChange",value:function(e){this.setState({filterText:e})}},{key:"render",value:function(){var e=this.state.detailisvisibile;return a.a.createElement(a.a.Fragment,null,a.a.createElement(m,{availableCurrency:this.state.mycurrencyList,baseCurrency:this.state.baseCurrency,onChange:this.handleCurrencyChange}),e?"":a.a.createElement(h,{filterText:this.state.filterText,onFilterTextChange:this.handleFilterTextChange}),a.a.createElement(d,{products:this.state.allproducts,filterText:this.state.filterText,onProductSelection:this.handleProductSelection,buttonText:this.state.buttonText,buttonVisibility:!0}),e?a.a.createElement("div",null,a.a.createElement(b,{product:this.state.selectedProduct}),a.a.createElement(d,{products:this.state.relatedProductList,filterText:"",onProductSelection:this.handleProductSelection,buttonText:this.state.buttonText,detailisvisibile:e})):"")}}]),r}(n.Component),y=r(21),x=r.n(y),g=r(22),S=r(10),v={type:"array",items:[{type:"object",properties:{base:{type:"string"},rates:{type:"object",properties:{USD:{type:"number"},CNY:{type:"number"}},required:["USD","CNY"]}},required:["base","rates"]},{type:"object",properties:{base:{type:"string"},rates:{type:"object",properties:{AUD:{type:"number"},CNY:{type:"number"}},required:["AUD","CNY"]}},required:["base","rates"]},{type:"object",properties:{base:{type:"string"},rates:{type:"object",properties:{AUD:{type:"number"},USD:{type:"number"}},required:["AUD","USD"]}},required:["base","rates"]}]},C={type:"array",title:"The root schema",description:"The root schema comprises the entire JSON document.",default:[],examples:[[{id:1,name:"Brown Shoes",description:"A brown shirt made from fine cotton.",price:{base:"USD",amount:50},relatedProducts:[2]},{id:2,name:"Green Pants",description:"A super slick pair of green pants, hand crafted by artisan clothmakers in the Amazon.",price:{base:"USD",amount:30},relatedProducts:[1,4]}]],additionalItems:!1,items:{anyOf:[{$id:"#/items/anyOf/0",type:"object",title:"The first anyOf schema",description:"An explanation about the purpose of this instance.",default:{},examples:[{id:1,name:"Brown Shoes",description:"A brown shirt made from fine cotton.",price:{base:"USD",amount:50},relatedProducts:[2]}],required:["id","name","description","price","relatedProducts"],additionalProperties:!0,properties:{id:{$id:"#/items/anyOf/0/properties/id",type:"number",title:"The id schema",description:"An explanation about the purpose of this instance.",default:0,examples:[1]},name:{$id:"#/items/anyOf/0/properties/name",type:"string",title:"The name schema",description:"An explanation about the purpose of this instance.",default:"",examples:["Brown Shoes"]},description:{$id:"#/items/anyOf/0/properties/description",type:"string",title:"The description schema",description:"An explanation about the purpose of this instance.",default:"",examples:["A brown shirt made from fine cotton."]},price:{$id:"#/items/anyOf/0/properties/price",type:"object",title:"The price schema",description:"An explanation about the purpose of this instance.",default:{},examples:[{base:"USD",amount:50}],required:["base","amount"],additionalProperties:!0,properties:{base:{$id:"#/items/anyOf/0/properties/price/properties/base",type:"string",title:"The base schema",description:"An explanation about the purpose of this instance.",default:"",examples:["USD"]},amount:{$id:"#/items/anyOf/0/properties/price/properties/amount",type:"number",title:"The amount schema",description:"An explanation about the purpose of this instance.",default:0,examples:[50]}}},relatedProducts:{$id:"#/items/anyOf/0/properties/relatedProducts",type:"array",title:"The relatedProducts schema",description:"An explanation about the purpose of this instance.",default:[],examples:[[2]],additionalItems:!1,items:{anyOf:[{$id:"#/items/anyOf/0/properties/relatedProducts/items/anyOf/0",type:"number",title:"The first anyOf schema",description:"An explanation about the purpose of this instance.",default:0,examples:[2]}],$id:"#/items/anyOf/0/properties/relatedProducts/items"}}}}],$id:"#/items"}},E=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={jsoncurrency:JSON.parse(JSON.stringify(g)),jsonproduct:JSON.parse(JSON.stringify(S)),referenceproducts:JSON.parse(JSON.stringify(S))},e}return Object(c.a)(r,[{key:"render",value:function(){var e=x()(),t=e.validate(v,this.state.jsoncurrency),r=e.validate(C,this.state.jsonproduct);return a.a.createElement(a.a.Fragment,null,t&&r?a.a.createElement(f,{products:this.state.jsonproduct,exchangerates:this.state.jsoncurrency,referenceproducts:this.state.referenceproducts}):a.a.createElement("span",null,"Invalid input!"))}}]),r}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(63);s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.5f9b6b47.chunk.js.map